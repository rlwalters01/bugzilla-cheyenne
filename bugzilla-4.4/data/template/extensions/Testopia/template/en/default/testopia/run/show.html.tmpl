use utf8;

#------------------------------------------------------------------------
# Compiled template generated by the Template Toolkit version 2.24
#------------------------------------------------------------------------

Template::Document->new({
    METADATA => {
        'modtime' => '1389716719',
        'name' => 'testopia/run/show.html.tmpl',
    },
    BLOCK => sub {
        my $context = shift || die "template sub called without context\n";
        my $stash   = $context->stash;
        my $output  = '';
        my $_tt_error;
        
        eval { BLOCK: {
    $output .=  "\n";
    $output .=  "\n\n";
    $output .=  "\n";
#line 26 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    $output .=  $context->process('global/variables.none.tmpl');
#line 27 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    $output .=  $context->process('testopia/blocks.html.tmpl');
#line 28 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    $output .=  $context->process('testopia/style.none.tmpl');
    $output .=  "\n";
#line 1 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    
    # CAPTURE
    $stash->set('title', do {
        my $output = '';
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  ("Test Run " . $stash->get(['run', 0, 'id', 0]) . ": " . $stash->get(['run', 0, 'summary', 0]));
        
        &$_tt_filter($output);
    };
    
        $output;
    });
    
    $output .=  "\n";
#line 32 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    $output .=  $context->process('global/header.html.tmpl');
    $output .=  "\n<div id=\"mask\"></div>\n<script type=\"text/javascript\">\nvar run = ";
#line 35 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html_light')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['run', 0, 'TO_JSON', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  ";\nvar user_login = '";
#line 36 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html_light')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['user', 0, 'login', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "';\nExt.onReady(function(){\n    Ext.QuickTips.init();\n    \n    var testopia_form = new Ext.form.BasicForm('testopia_helper_frm',{});\n    \n    function submitEdits(field, value){\n        var params = {action: 'edit', run_id: run.run_id};\n        switch(field){\n            case 'run_product_version': \n                params.run_product_version = value;\n                break;\n            case 'build': \n                params.build = value;\n                break;\n            case 'status': \n                params.status = value;\n                break;\n            case 'summary': \n                params.summary = value;\n                break;\n            case 'environment': \n                params.environment = value;\n                break;\n            case 'run_notes': \n                params.run_notes = value;\n                break;\n            case 'manager': \n                params.manager = value;\n                break;\n            case 'target_pass': \n                params.target_pass = value;\n                break;\n            case 'target_completion': \n                params.target_completion = value;\n                break;\n        }\n        testopia_form.submit({\n            url: 'tr_process_run.cgi',\n            params: params,\n            success: function(f,a){\n                Testopia.Util.notify.msg('Test Run updated', 'Test Run {0} was updated successfully', field);\n            },\n            failure: function(f,a){\n                if (field == 'status'){\n                    Ext.getCmp('run_status_cycle').setActiveItem(Ext.getCmp('run_status_cycle').getActiveItem().id == 'run_status_stopped' ? Ext.getCmp('run_status_running') : Ext.getCmp('run_status_stopped'), true);\n                    Ext.getCmp('run_status_cycle').getEl().child(Ext.getCmp('run_status_cycle').buttonSelector).setStyle('background-image', 'url(' +Ext.getCmp('run_status_cycle').getActiveItem().icon +')');\n                }\n                Testopia.Util.error(f,a);\n            }\n        });\n    }\n\n    var runDelete = function(btn){\n        if (btn == 'yes'){\n            var form = new Ext.form.BasicForm(\"testopia_helper_frm\",{});\n            form.submit({\n                url: 'tr_process_run.cgi',\n                params: {run_id: run.run_id, action:'delete'},\n                success: function(data){\n                    Ext.Msg.show({\n                        title:'Test Run Deleted',\n                        msg: \"Test Run \" + run.run_id + \" was deleted\",\n                        buttons: Ext.Msg.OK,\n                        icon: Ext.MessageBox.INFO\n                    });\n                    window.location=\"tr_show_plan.cgi?plan_id=\" + run.plan.id;\n                },\n                failure: Testopia.Util.error\n            });\n        }\n    };\n    var fileMenu = new Ext.menu.Menu({\n        id: 'file-menu',\n        items: [{\n            text: \"Clone\",\n            id:'run-clone-icon',\n            icon: 'extensions/Testopia/img/copy.png',\n            iconCls: 'img_button_16x',\n            handler: function(){\n                Testopia.TestRun.ClonePopup(run.product_id, run.run_id);\n            }\n        },{\n            text: \"Delete\",\n            disabled: run.candelete ? false : true,\n            id:'run-delete-icon',\n            icon: 'extensions/Testopia/img/delete.png',\n            iconCls: 'img_button_16x',\n            handler: function(){\n                Ext.Msg.show({\n                   title:'Confirm Delete?',\n                   msg: 'You are about to delete run ' + run.id + ' with all of its history. Are you sure you want to continue?',\n                   buttons: Ext.Msg.YESNO,\n                   fn: runDelete,\n                   animEl: 'run_delete_btn',\n                   icon: Ext.MessageBox.QUESTION\n                });\n            }\n        },{\n            text: 'Export Results to CSV',\n            icon: 'extensions/Testopia/img/csv.png',\n            iconCls: 'img_button_16x',\n            handler: function(){\n                window.location = 'tr_list_caseruns.cgi?ctype=csv&run_id=' + run.run_id;\n            }\n\n        }]\n    });\n\n    var runControls = new Ext.Toolbar();\n    runControls.add({\n        text: 'File',\n        menu: fileMenu\n    },new Ext.Toolbar.Fill()\n    ,{\n        xtype: 'button',\n        id:'run-clone-ibtn',\n        icon: 'extensions/Testopia/img/copy.png',\n        iconCls: 'img_button_16x',\n        tooltip: 'Clone this Test Run',\n        handler: function(){\n            Testopia.TestRun.ClonePopup(run.product_id, run.run_id);\n        }\n    }";
#line 178 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    if ($stash->get(['run', 0, 'candelete', 0])) {
    $output .=  "\n    ,{\n        xtype: 'button',\n        id: 'run_delete_btn',\n        icon: 'extensions/Testopia/img/delete.png',\n        iconCls: 'img_button_16x',\n        tooltip: 'Delete this Run',\n        handler: function(){\n            Ext.Msg.show({\n               title:'Confirm Delete?',\n               msg: 'You are about to delete run ' + run.id + ' with all of its history. Are you sure you want to continue?',\n               buttons: Ext.Msg.YESNO,\n               fn: runDelete,\n               animEl: 'run_delete_btn',\n               icon: Ext.MessageBox.QUESTION\n            });\n        }\n    }";
    }
    
    $output .=  "    \n    );\n    var runpanel = new Ext.Panel({\n        layout: 'border',\n        applyTo: 'run-body-div',\n        monitorResize: true,\n        id: 'runpanel',\n        height: Ext.state.Manager.get('run_height', 1200),\n        footer: true,\n        items:[{\n            split: true,\n            region: 'center',\n            xtype: 'tabpanel',\n            activeTab: 0,\n            id: 'object_panel',\n            items: [new Testopia.TestCaseRun.Panel(Testopia.Util.urlQueryToJSON(window.location.search), run),\n            {\n                title: 'Notes',\n                layout: 'fit',\n                items: [{\n                    id: 'run_notes',\n                    xtype:'textarea',\n                    value: '";
#line 200 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('js')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['run', 0, 'notes', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "'\n                }],\n                buttons: [{\n                    text: 'Submit',\n                    disabled: run.canedit ? false : true,\n                    handler: function(){\n                        submitEdits('run_notes', Ext.getCmp('run_notes').getValue());\n                    }\n                }]\n            },\n            new Testopia.Util.HistoryList('run', ";
#line 210 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('none')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['run', 0, 'id', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  ")\n            ]\n        },{\n            split: true,\n            id: 'run_overview_pane',\n            title: '";
#line 215 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('js')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('title');
        
        &$_tt_filter($output);
    };
    
    $output .=  "',\n            headerAsText: true,\n            region: 'north',\n            collapsible: true,\n            contentEl: 'run_overview',\n            height: Ext.get('run_overview').getHeight() + 70\n        },{\n            collapsible: true,\n            title: ' ',\n            split: true,\n            region:'east',\n            layout: 'fit',\n            width: 200,\n            items: [{\n                xtype: 'tabpanel',\n                activeTab: 0,\n                id: 'run_east_panel',\n                items:[\n                    new Testopia.Tags.ObjectTags('run', ";
#line 233 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('none')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['run', 0, 'id', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "),\n    //                {\n    //                    title: 'CC List'\n    //                },\n                    new Testopia.TestRun.FiltersList(run)\n                    \n                ]\n            }]\n        }]\n    });";
#line 389 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    if ($stash->get(['run', 0, 'canedit', 0])) {
    $output .=  "   ";
#line 335 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    if ($stash->get(['run', 0, 'canstatus', 0])) {
    $output .=  " \n// Manager Editing\n    var manager_edit_btn = new Ext.Button({\n        applyTo: 'manager_edit_btn_div',\n        id:'manager_edit_btn',\n        icon: 'extensions/Testopia/img/edit.png',\n        iconCls: 'img_button_16x',\n        tooltip: 'Edit Manager',\n        handler: function(){\n            Ext.getCmp('manager_edt').startEdit(Ext.get('run_manager_div'), '";
#line 253 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('js')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['run', 0, 'manager', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "');\n        }\n    });\n    var manager_edt = new Ext.Editor(\n        new Testopia.User.Lookup({\n            hiddenName:'manager',\n            value: run.manager\n        }),\n    {\n        alignment: 'tl-tl',\n        id: 'manager_edt',\n        updateEl: true,\n        completeOnEnter: true,\n        ignoreNoChange: true,\n        cancelOnEsc: true\n    });\n    manager_edt.on('complete', function(e,v){\n        submitEdits('manager', v);\n    });\n// Target Complete edit    \n    var tcomp_edit_btn = new Ext.Button({\n        applyTo: 'run_tcomp_edit_btn_div',\n        id:'run_tcomp_edit_btn',\n        icon: 'extensions/Testopia/img/edit.png',\n        iconCls: 'img_button_16x',\n        tooltip: 'Edit Run Summary',\n        handler: function(){\n            Ext.getCmp('run_tcomp_edt').startEdit(Ext.get('run_tcomp_div'));\n        }\n    });\n    var run_tcomp_edt = new Ext.Editor(\n        new Ext.form.NumberField({\n            width: 30,\n            name: 'tcomp',\n            allowBlank:true,\n            minValue: 0,\n            maxValue: 100\n        }),{\n            alignment: 'tl-tl',\n            id: 'run_tcomp_edt',\n            ignoreNoChange: true,\n            updateEl: true,\n            completeOnEnter: true,\n            ignoreNoChange: true,\n            cancelOnEsc: true\n    });\n    run_tcomp_edt.on('complete', function(e,v,sv){\n        submitEdits('target_completion', v);\n        Ext.getCmp('tpass_nf').maxValue = v;\n    });\n// Target Pass edit    \n    var tpass_edit_btn = new Ext.Button({\n        applyTo: 'run_tpass_edit_btn_div',\n        id:'run_tpass_edit_btn',\n        icon: 'extensions/Testopia/img/edit.png',\n        iconCls: 'img_button_16x',\n        tooltip: 'Edit Run Summary',\n        handler: function(){\n            Ext.getCmp('run_tpass_edt').startEdit(Ext.get('run_tpass_div'));\n        }\n    });\n    var run_tpass_edt = new Ext.Editor(\n        new Ext.form.NumberField({\n            width: 30,\n            name: 'tpass',\n            allowBlank: true,\n            id: 'tpass_nf',\n            minValue: 0,\n            maxValue: ";
#line 321 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('js')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['run', 0, 'target_completion', 0]) || 100;
        
        &$_tt_filter($output);
    };
    
    $output .=  "\n        }),{\n            alignment: 'tl-tl',\n            id: 'run_tpass_edt',\n            ignoreNoChange: true,\n            updateEl: true,\n            completeOnEnter: true,\n            ignoreNoChange: true,\n            cancelOnEsc: true\n    });\n    run_tpass_edt.on('complete', function(e,v,sv){\n        submitEdits('target_pass', v);\n    });\n";
    }
    
    $output .=  "\n    runControls.render('run-tb-div');\n// Summary Editing    \n    var summary_edit_btn = new Ext.Button({\n        applyTo: 'run_summary_edit_btn_div',\n        id:'run_summary_edit_btn',\n        icon: 'extensions/Testopia/img/edit.png',\n        iconCls: 'img_button_16x',\n        tooltip: 'Edit Run Summary',\n        handler: function(){\n            Ext.getCmp('run_summary_edt').startEdit(Ext.get('run_summary_div'));\n        }\n    });\n    var run_summary_edt = new Ext.Editor(\n        new Ext.form.TextField({\n            width: Ext.get('run_summary_div').getWidth() < 200 ? 200 : Ext.get('run_summary_div').getWidth(),\n            name: 'summary'\n        }),{\n            alignment: 'tl-tl',\n            id: 'run_summary_edt',\n            ignoreNoChange: true,\n            updateEl: true,\n            completeOnEnter: true,\n            ignoreNoChange: true,\n            cancelOnEsc: true\n    });\n    run_summary_edt.on('complete', function(e,v,sv){\n        submitEdits('summary', v);\n    });\n\n// Combo Boxes\n    var pbox = new Testopia.Product.VersionCombo({\n        hiddenName: 'run_product_version',\n        transform: 'product_version'\n    });\n    pbox.on('select', function(c,r,i){\n        submitEdits('run_product_version', r.get('value'));\n    });\n    \n    var bbox = new Testopia.Build.Combo({\n        hiddenName: 'build',\n        transform: 'run_default_build'\n    });\n    bbox.on('select', function(c,r,i){\n        submitEdits('build', r.get('value'));\n    });\n\n    var ebox = new Testopia.Environment.Combo({\n        hiddenName: 'environment',\n        transform: 'run_default_environment'\n    });\n    ebox.on('select', function(c,r,i){\n        submitEdits('environment', r.get('value'));\n    });";
    }
    
    $output .=  "\n// Status editor\n    var statusBtn = new Ext.CycleButton({\n        applyTo: 'run_status_btn',\n        id: 'run_status_cycle',\n        showText: true,";
#line 395 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    if (!($stash->get(['run', 0, 'canstatus', 0]))) {
    $output .=  'disabled: true,';
    }
    
    $output .=  "\n        icon: 'extensions/Testopia/img/";
#line 396 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    $output .=  $stash->get(['run', 0, 'stop_date', 0]) ? 'stop' : 'go';
    $output .=  ".png',\n        iconCls: 'img_button_16x',\n\n        items: [{\n            text: 'RUNNING',\n            icon: 'extensions/Testopia/img/go.png',\n            id: 'run_status_running',\n            iconCls: 'img_button_16x'";
#line 404 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    if (! $stash->get(['run', 0, 'stop_date', 0])) {
    $output .=  ',checked: true';
    }
    
    $output .=  "\n        },{\n            text: 'STOPPED',\n            id: 'run_status_stopped',\n            icon: 'extensions/Testopia/img/stop.png',\n            iconCls: 'img_button_16x'";
#line 410 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    if ($stash->get(['run', 0, 'stop_date', 0])) {
    $output .=  ',checked: true';
    }
    
    $output .=  "\n        }],\n\n        changeHandler: function (btn, item){\n            Ext.Msg.show({\n                msg: 'Are you sure you want to change the status to ' + item.text,\n                title: 'Change Run Status?',\n                buttons: Ext.Msg.YESNO,\n                icon: Ext.MessageBox.QUESTION,\n                fn: function(b){\n                    if (b == 'yes'){\n                        btn.getEl().child(btn.buttonSelector).setStyle('background-image', 'url(' +item.icon +')');\n                        submitEdits('status', item.text);\n                        if (item.text == 'STOPPED'){\n                            Ext.getCmp('caserun_grid_tb').disable();\n                            Ext.getCmp('summary_tb').disable();\n                        }\n                        else {\n                            if (Ext.getCmp('caserun_grid').getSelectionModel().getCount() > 0){\n                                Ext.getCmp('caserun_grid_tb').enable();\n                                Ext.getCmp('summary_tb').enable();\n                            }\n                        }\n                    }\n                }\n            });\n        }\n    });\n\n// Resizer\n    var resizer = new Ext.Resizable('run-body-div',{\n        handles: 's',\n        pinned: true\n        \n    });\n    resizer.on('resize', function(r,w,h,e){\n        runpanel.setHeight(h);\n        runpanel.doLayout();\n        Ext.state.Manager.set('run_height', h);\n    });\n    Ext.QuickTips.register({\n        target: 'update_bugs',\n        title: 'Update Attached Bugs Status',\n        text: 'Update Status of Attached Bugs.<p><b>FAILED = REOPENED<br>PASSED = VERIFIED</b></p>'\n    });\n    Ext.getCmp('case_details_panel').on('resize', function(c,aw,ah,rw,rh){\n        Ext.getCmp('cr_action_panel').setHeight(ah - 100);\n        Ext.getCmp('cr_results_panel').setHeight(ah - 100);\n        Ext.getCmp('cr_breakdown_panel').setHeight(ah - 100);\n        Ext.getCmp('cr_setup_panel').setHeight(ah - 100);\n        Ext.state.Manager.set('bigtext_height', ah - 100);\n    });";
#line 466 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    if ($stash->get(['run', 0, 'case_run_count', 0]) eq 0) {
    $output .=  "\n    Ext.getCmp('run_progress').updateProgress(0,0,0,'0%');";
    }
    else {
    $output .=  "\n    Ext.getCmp('run_progress').updateProgress(";
#line 465 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    $output .=  $stash->get(['run', 0, 'case_run_count', [ 2 ]]) / $stash->get(['run', 0, 'case_run_count', 0]);
    $output .=  ",";
#line 465 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    $output .=  $stash->get(['run', 0, 'case_run_count', [ 3 ]]) / $stash->get(['run', 0, 'case_run_count', 0]);
    $output .=  ",";
#line 465 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    $output .=  $stash->get(['run', 0, 'case_run_count', [ 6 ]]) / $stash->get(['run', 0, 'case_run_count', 0]);
    $output .=  ", '";
#line 465 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    $output .=  $stash->get(['run', 0, 'percent_complete', 0]);
    $output .=  "%');";
    }
    
#line 469 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    if ($stash->get(['run', 0, 'stop_date', 0])) {
    $output .=  "\n    Testopia.Util.DisableTools(Ext.getCmp('caserun_grid_tb'),['caserun_grid_tocsv','run_progress']);";
    }
    
    $output .=  "\n  Ext.get('run_overview').show();\n  Ext.get('caserun-filter-div').show();\n});\n</script>\n";
#line 475 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    $output .=  $context->process('testopia/run/navigate.html.tmpl');
    $output .=  "\n<div id=\"run-body-div\"></div>\n<div id=\"caserun\"></div>\n<form id=\"caserungrideditform\"></form>\n<form id=\"rungrideditform\"></form>\n<form id=\"attachmentgrideditform\"></form>\n\n";
    $output .=  "\n<div id=\"run_overview\" style=\"visibility:hidden\">\n<div id=\"run-tb-div\"></div>\n<div id=\"caserun-tb-div\"></div>\n<table border=\"0\" cellpadding=\"1\" width=\"100%\">\n  <tbody align=\"left\">\n    <tr class=\"bz_row_header\">\n      <th colspan=\"2\">Run Summary</th>\n      <th width=\"25%\">Manager</th>\n    </tr>\n    <tr class=\"bz_row_data\">\n      <td colspan=\"2\">\n        <table>\n          <tr style=\"width:100%;\">\n            <td><div id=\"run_summary_div\">";
#line 496 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['run', 0, 'summary', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "</div></td>\n            <td><div id=\"run_summary_edit_btn_div\"></div></td>\n          </tr>\n        </table>\n      </td>\n      <td>\n        <table>\n          <tr><td><a href=\"mailto:";
#line 503 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['run', 0, 'manager', 0, 'email', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\" id=\"run_manager_div\">";
#line 503 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['run', 0, 'manager', 0, 'identity', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "</a></td>\n          <td><div id=\"manager_edit_btn_div\"></div></td>\n          </tr>\n        </table>\n      </td>\n    </tr>\n    <tr class=\"bz_row_header\">\n      <th>Plan</th>\n      <th>Plan Text Version</th>\n      <th>Start Date</th>\n      </tr>\n    <tr class=\"bz_row_data\">\n      <td><a href=\"tr_show_plan.cgi?plan_id=";
#line 515 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('none')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['run', 0, 'plan', 0, 'id', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">";
#line 515 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['run', 0, 'plan', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "</a></td>\n      <td>";
#line 516 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['run', 0, 'plan_text_version', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "</td>\n      <td>";
#line 517 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('time')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['run', 0, 'start_date', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "</td>\n      </tr>\n    <tr  class=\"bz_row_header\">\n      <th>Product</th>\n      <th>Product Version</th>\n      <th>Stop Date</th>\n      </tr>\n    <tr class=\"bz_row_data\">\n      <td><a href=\"tr_show_product.cgi?product_id=";
#line 525 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('none')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['run', 0, 'plan', 0, 'product', 0, 'id', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">";
#line 525 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['run', 0, 'plan', 0, 'product', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "</a></td>\n      <td>";
#line 532 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    if ($stash->get(['run', 0, 'canedit', 0])) {
#line 527 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    $output .=  $context->process('select', { 'sel' => { 'name' => 'product_version', 'list' => $stash->get(['run', 0, 'plan', 0, 'product', 0, 'versions', 0]), 'default' => $stash->get(['run', 0, 'product_version', 0])  } });
    }
    else {
#line 531 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['run', 0, 'product_version', 0]);
        
        &$_tt_filter($output);
    };
    
    }
    
    $output .=  "\n      </td>\n      <td>";
#line 534 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('time')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['run', 0, 'stop_date', 0]);
        
        &$_tt_filter($output);
    };
    
#line 534 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    if ($stash->get(['run', 0, 'total_time', 0])) {
    $output .=  "&nbsp;(";
#line 534 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('none')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['run', 0, 'total_time', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  " D:H:M:S)";
    }
    
    $output .=  "</td>\n    </tr>\n    <tr class=\"bz_row_header\">\n      <th>Default Build</th>\n      <th>Default Environment</th>\n      <td>\n      <table>\n        <tr><th width=\"120\">Run&nbsp;Status</th><th width=\"120\">Target&nbsp;Comp.&nbsp;%</th><th width=\"120\">Target&nbsp;Pass&nbsp;%</th></tr>\n      </table>\n      </td>\n    </tr>\n    <tr class=\"bz_row_data\">\n      <td>";
#line 552 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    if ($stash->get(['run', 0, 'canedit', 0])) {
#line 547 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    $output .=  $context->process('select', { 'sel' => { 'name' => 'run_default_build', 'list' => $stash->get(['run', 0, 'plan', 0, 'product', 0, 'builds', [ 'ACTIVE', $stash->get(['run', 0, 'build', 0, 'id', 0]) ]]), 'default' => $stash->get(['run', 0, 'build', 0, 'name', 0])  } });
    }
    else {
#line 551 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['run', 0, 'build', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    }
    
    $output .=  "\n      </td>\n      <td>";
#line 560 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    if ($stash->get(['run', 0, 'canedit', 0])) {
#line 555 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    $output .=  $context->process('select', { 'sel' => { 'name' => 'run_default_environment', 'list' => $stash->get(['run', 0, 'plan', 0, 'product', 0, 'environments', [ 'ACTIVE', $stash->get(['run', 0, 'environment', 0, 'id', 0]) ]]), 'default' => $stash->get(['run', 0, 'environment', 0, 'name', 0])  } });
    }
    else {
#line 559 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['run', 0, 'environment', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    }
    
    $output .=  "\n      </td>\n      <td align=\"left\">\n      <table>\n        <tr>\n          <td width=\"120\"><div id=\"run_status_btn\"></div></td>\n          <td width=\"120\"><div id=\"run_tcomp_div\" style=\"width:30px;\">";
#line 566 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('none')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['run', 0, 'target_completion', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "</div></td>\n          <td><div id=\"run_tcomp_edit_btn_div\"></div></td>\n          <td width=\"120\"><div id=\"run_tpass_div\" style=\"width:30px;\">";
#line 568 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('none')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['run', 0, 'target_pass', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "</div></td>\n          <td><div id=\"run_tpass_edit_btn_div\"></div></td>\n        </tr>\n      </table>\n      </td>      \n    </tr>\n  </tbody>\n</table>\n<div style=\"height: 10px\"></div>\n</div>\n";
#line 579 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    $output .=  $context->process('testopia/caserun/filter.html.tmpl');
    $output .=  "\n";
#line 581 "extensions/Testopia/template/en/default/testopia/run/show.html.tmpl"
    $output .=  $context->process('global/footer.html.tmpl');
    $output .=  "\n";
        } };
        if ($@) {
            $_tt_error = $context->catch($@, \$output);
            die $_tt_error unless $_tt_error->type eq 'return';
        }
    
        return $output;
    },
    DEFBLOCKS => {

    },
});
