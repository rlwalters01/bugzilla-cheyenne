use utf8;

#------------------------------------------------------------------------
# Compiled template generated by the Template Toolkit version 2.24
#------------------------------------------------------------------------

Template::Document->new({
    METADATA => {
        'modtime' => '1338251990',
        'name' => 'testopia/tag/form.html.tmpl',
    },
    BLOCK => sub {
        my $context = shift || die "template sub called without context\n";
        my $stash   = $context->stash;
        my $output  = '';
        my $_tt_error;
        
        eval { BLOCK: {
    $output .=  "\n";
    $output .=  "\n\n";
    $output .=  "\n<script type=\"text/javascript\">\n    dojo.require(\"dojo.widget.ComboBox\");\n</script>";
#line 33 "extensions/Testopia/template/en/default/testopia/tag/form.html.tmpl"
    if ($stash->get(['item', 0, 'type', 0]) eq 'case') {
#line 28 "extensions/Testopia/template/en/default/testopia/tag/form.html.tmpl"
    $stash->set('product_id', $stash->get(['join', [ ',', $stash->get(['case', 0, 'get_product_ids', 0]) ]]));
    }
    elsif ($stash->get(['item', 0, 'type', 0]) eq 'plan') {
#line 30 "extensions/Testopia/template/en/default/testopia/tag/form.html.tmpl"
    $stash->set('product_id', $stash->get(['plan', 0, 'product_id', 0]));
    }
    elsif ($stash->get(['item', 0, 'type', 0]) eq 'run') {
#line 32 "extensions/Testopia/template/en/default/testopia/tag/form.html.tmpl"
    $stash->set('product_id', $stash->get(['run', 0, 'plan', 0, 'product_id', 0]));
    }
    
#line 43 "extensions/Testopia/template/en/default/testopia/tag/form.html.tmpl"
    if ($stash->get(['item', 0, 'canedit', 0])) {
    $output .=  "\n<input id=\"newtag\" name=\"newtag\"\n       dojoType=\"combobox\" \n       dataUrl=\"tr_quicksearch.cgi?action=gettag&product_id=";
#line 37 "extensions/Testopia/template/en/default/testopia/tag/form.html.tmpl"
    $output .=  $stash->get('product_id');
    $output .=  "&search=\${searchString}\" \n       mode=\"remote\"\n       searchDelay=\"1000\"\n       maxListLength=\"10\">\n\n<input type=\"button\" id=\"doAdd\" onclick=\"addTag(";
#line 42 "extensions/Testopia/template/en/default/testopia/tag/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('none')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['item', 0, 'id', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  ",'";
#line 42 "extensions/Testopia/template/en/default/testopia/tag/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('none')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['item', 0, 'type', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "')\" value=\"Add\"></a><br>";
    }
    
    $output .=  "\n<div id=\"message\" style=\"border:none\"></div>\n";
        } };
        if ($@) {
            $_tt_error = $context->catch($@, \$output);
            die $_tt_error unless $_tt_error->type eq 'return';
        }
    
        return $output;
    },
    DEFBLOCKS => {

    },
});
